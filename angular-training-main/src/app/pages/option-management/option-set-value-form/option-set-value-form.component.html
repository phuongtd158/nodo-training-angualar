<div class="product-form-title">
    <h1 class="text-center main-content-label mt-4">{{title}}</h1>
</div>
<div class="card-body">
    <div class="row">
        <div class="col-11 m-auto">
            <form [formGroup]="optionSetValueForm">
                <div class="row">
                    <div class="col-6">
                        <mat-form-field class="w-100" appearance="outline" formGroupName="optionSet">
                            <mat-label>Loại danh mục</mat-label>
                            <mat-select formControlName="id">
                                <mat-option *ngFor="let o of optionSet" [value]="o.id">{{o.name}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-6">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>Mã</mat-label>
                            <input type="text"
                                   formControlName="code"
                                   matInput
                            >
                            <mat-error class="text-danger"
                                       *ngIf="optionSetValueForm.get('code')?.hasError('required') && optionSetValueForm.get('code')?.touched">
                                Mã danh mục không được để trống
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>Tên danh mục</mat-label>
                            <input type="text"
                                   formControlName="name"
                                   matInput
                            >
                            <mat-error class="text-danger"
                                       *ngIf="optionSetValueForm.get('name')?.hasError('required') && optionSetValueForm.get('name')?.touched">
                                Tên danh mục không được để trống
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="col-6">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>Nhóm</mat-label>
                            <input type="text"
                                   formControlName="group"
                                   matInput
                            >
                            <mat-error class="text-danger"
                                       *ngIf="optionSetValueForm.get('group')?.hasError('required') && optionSetValueForm.get('group')?.touched">
                                Nhóm không được để trống
                            </mat-error>
                        </mat-form-field>
                    </div>

                </div>
                <div class="row">
                    <div class="col-6">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>Ngày hiệu lực</mat-label>
                            <input matInput formControlName="effectiveDate" [matDatepicker]="picker1">
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                            <mat-error class="text-danger"
                                       *ngIf="optionSetValueForm.get('effectiveDate')?.hasError('required')
                                           && optionSetValueForm.get('effectiveDate')?.touched">
                                Ngày hiệu không được để trống
                            </mat-error>
                            <mat-hint class="text-danger"
                                      *ngIf="optionSetValueForm.errors?.['isCheckDate']
                                         && (optionSetValueForm.get('effectiveDate')?.touched
                                         || optionSetValueForm.get('expirationDate')?.touched)">
                                Ngày bắt đầu phải nhỏ hơn ngày kết thúc!
                            </mat-hint>
                        </mat-form-field>
                    </div>
                    <div class="col-6">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label>Ngày hết hiệu lực</mat-label>
                            <input matInput formControlName="expirationDate" [matDatepicker]="picker2">
                            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                            <mat-datepicker #picker2></mat-datepicker>
                            <mat-error class="text-danger"
                                       *ngIf="optionSetValueForm.get('expirationDate')?.hasError('required') && optionSetValueForm.get('expirationDate')?.touched">
                                Ngày hết hiệu lực không được để trống
                            </mat-error>
                            <mat-hint class="text-danger"
                                      *ngIf="optionSetValueForm.errors?.['isCheckDate'] && (optionSetValueForm.get('effectiveDate')?.touched || optionSetValueForm.get('expirationDate')?.touched)">
                                Ngày bắt đầu phải nhỏ hơn ngày kết thúc!
                            </mat-hint>
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Trạng thái</mat-label>
                            <mat-select formControlName="status">
                                <mat-option [value]="1">Hoạt động</mat-option>
                                <mat-option [value]="0">Không hoạt động</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>

                <div class="action-button mt-3 d-flex justify-content-end gap-3">
                    <button mat-raised-button color="warn" (click)="onDismiss()">
                        <span><span class="fe fe-x mg-r-2"></span>Đóng</span>
                    </button>
                    <button mat-raised-button color="primary" (click)="save()">
                        <span><span class="fe fe-check mg-r-2"></span>Lưu</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

</div>
